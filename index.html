<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoSpin - Climate & Health Trivia</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --air: #00D4FF; --water: #3B82F6; --food: #FF6B35; --vector: #A855F7;
            --heat: #FF4757; --wildfires: #FF8C00; --climate: #10B981; --health: #EC4899;
            --environment: #22C55E; --microbes: #14B8A6;
            --gold: #FBBF24; --easy: #22C55E; --medium: #F59E0B; --hard: #EF4444;
            --neon-blue: #00f5ff; --neon-pink: #ff00ff; --neon-green: #00ff88;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Times New Roman', Times, serif; 
            min-height: 100vh; 
            overflow-x: hidden;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #f5576c 75%, #4facfe 100%);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        /* Animated background elements */
        .bg-effects {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }
        
        .floating-orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(40px);
            opacity: 0.6;
            animation: float 20s infinite ease-in-out;
        }
        
        .orb1 { width: 300px; height: 300px; background: #00f5ff; top: 10%; left: 10%; animation-delay: 0s; }
        .orb2 { width: 250px; height: 250px; background: #ff00ff; top: 60%; right: 10%; animation-delay: -5s; }
        .orb3 { width: 200px; height: 200px; background: #00ff88; bottom: 10%; left: 30%; animation-delay: -10s; }
        .orb4 { width: 180px; height: 180px; background: #ffff00; top: 30%; right: 30%; animation-delay: -15s; }
        
        @keyframes float {
            0%, 100% { transform: translate(0, 0) scale(1); }
            25% { transform: translate(50px, -30px) scale(1.1); }
            50% { transform: translate(-30px, 50px) scale(0.9); }
            75% { transform: translate(-50px, -20px) scale(1.05); }
        }
        
        /* Grid lines overlay */
        .grid-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(255,255,255,0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            z-index: 1;
            pointer-events: none;
        }
        
        .container { 
            max-width: 1000px; 
            margin: 0 auto; 
            padding: 1.5rem; 
            position: relative; 
            z-index: 2; 
        }
        
        header { text-align: center; margin-bottom: 1.5rem; }
        .logo-icon {
            width: 70px; height: 70px; margin: 0 auto 0.5rem;
            background: linear-gradient(135deg, #00f5ff, #ff00ff, #00ff88);
            border-radius: 50%; 
            display: flex; align-items: center; justify-content: center;
            font-size: 2rem; 
            box-shadow: 0 0 40px rgba(0, 245, 255, 0.6), 0 0 80px rgba(255, 0, 255, 0.4);
            animation: iconPulse 2s ease-in-out infinite;
            border: 3px solid rgba(255,255,255,0.5);
        }
        
        @keyframes iconPulse {
            0%, 100% { transform: scale(1); box-shadow: 0 0 40px rgba(0, 245, 255, 0.6), 0 0 80px rgba(255, 0, 255, 0.4); }
            50% { transform: scale(1.05); box-shadow: 0 0 60px rgba(0, 245, 255, 0.8), 0 0 100px rgba(255, 0, 255, 0.6); }
        }
        
        h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 3rem;
            font-weight: 900;
            color: #ffffff;
            letter-spacing: 0.15em;
            text-shadow: 0 0 20px rgba(0, 245, 255, 0.8), 0 0 40px rgba(255, 0, 255, 0.6), 0 0 60px rgba(0, 255, 136, 0.4);
            text-transform: uppercase;
        }
        .subtitle { 
            font-family: 'Times New Roman', Times, serif;
            color: rgba(255,255,255,0.95); 
            font-size: 1.1rem; 
            font-weight: 600; 
            letter-spacing: 0.3em; 
            text-transform: uppercase;
            text-shadow: 0 0 10px rgba(255,255,255,0.5);
        }
        
        .main-content { 
            display: grid; 
            grid-template-columns: 200px 1fr 200px; 
            gap: 2rem; 
            align-items: center;
        }
        @media (max-width: 850px) { 
            .main-content { 
                grid-template-columns: 1fr; 
                gap: 1.5rem;
            }
            .main-content > * { max-width: 350px; margin: 0 auto; width: 100%; }
        }
        
        .panel {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border-radius: 20px; 
            padding: 1.25rem; 
            border: 2px solid rgba(255,255,255,0.3);
            box-shadow: 0 15px 35px rgba(0,0,0,0.2), inset 0 0 30px rgba(255,255,255,0.1);
        }
        .panel-title { 
            font-family: 'Orbitron', sans-serif;
            color: #ffffff; 
            font-size: 1rem; 
            font-weight: 700;
            letter-spacing: 0.1em; 
            margin-bottom: 0.75rem;
            text-shadow: 0 0 10px rgba(0, 245, 255, 0.8);
        }
        
        .difficulty-options { display: flex; flex-direction: column; gap: 0.5rem; }
        .difficulty-btn {
            padding: 0.7rem 0.9rem; 
            border: 2px solid rgba(255,255,255,0.3); 
            border-radius: 12px;
            cursor: pointer; 
            transition: all 0.3s ease; 
            display: flex; 
            align-items: center;
            gap: 0.6rem; 
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
        }
        .difficulty-btn.easy:hover, .difficulty-btn.easy.active { 
            border-color: var(--neon-green); 
            background: rgba(0, 255, 136, 0.2); 
            box-shadow: 0 0 25px rgba(0, 255, 136, 0.5);
        }
        .difficulty-btn.medium:hover, .difficulty-btn.medium.active { 
            border-color: var(--gold); 
            background: rgba(251, 191, 36, 0.2); 
            box-shadow: 0 0 25px rgba(251, 191, 36, 0.5);
        }
        .difficulty-btn.hard:hover, .difficulty-btn.hard.active { 
            border-color: #ff4757; 
            background: rgba(255, 71, 87, 0.2); 
            box-shadow: 0 0 25px rgba(255, 71, 87, 0.5);
        }
        
        .difficulty-icon { 
            width: 36px; height: 36px; 
            border-radius: 10px; 
            display: flex; align-items: center; justify-content: center; 
            font-size: 1.1rem;
            box-shadow: 0 0 15px rgba(255,255,255,0.3);
        }
        .easy .difficulty-icon { background: linear-gradient(135deg, #00ff88, #00cc6a); }
        .medium .difficulty-icon { background: linear-gradient(135deg, #fbbf24, #f59e0b); }
        .hard .difficulty-icon { background: linear-gradient(135deg, #ff4757, #ff6b7a); }
        .difficulty-info h3 { 
            font-family: 'Times New Roman', Times, serif;
            color: #ffffff; 
            font-size: 0.95rem; 
            font-weight: 700;
            text-shadow: 0 0 5px rgba(255,255,255,0.5);
        }
        .difficulty-info p { color: rgba(255,255,255,0.7); font-size: 0.65rem; }
        .difficulty-check { 
            margin-left: auto; 
            width: 22px; height: 22px; 
            border-radius: 50%; 
            border: 2px solid rgba(255,255,255,0.5); 
            display: flex; align-items: center; justify-content: center;
        }
        .difficulty-btn.active .difficulty-check { 
            border-color: #ffffff; 
            background: #ffffff;
            box-shadow: 0 0 15px rgba(255,255,255,0.8);
        }
        .difficulty-btn.active .difficulty-check::after { content: '‚úì'; color: #333; font-weight: 900; font-size: 0.7rem; }
        
        .wheel-section { display: flex; flex-direction: column; align-items: center; }
        
        .wheel-container { 
            position: relative; 
            width: 300px; 
            height: 300px; 
        }
        
        .wheel-glow {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 340px; height: 340px; border-radius: 50%;
            background: conic-gradient(from 0deg, #ff4757, #ff8c00, #10b981, #00d4ff, #3b82f6, #ec4899, #a855f7, #ff6b35, #22c55e, #14b8a6, #ff4757);
            filter: blur(40px); 
            opacity: 0.7;
            animation: glowRotate 10s linear infinite;
        }
        
        @keyframes glowRotate {
            from { transform: translate(-50%, -50%) rotate(0deg); }
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }
        
        .wheel-outer {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 290px;
            height: 290px;
            border-radius: 50%;
            padding: 8px;
            background: linear-gradient(145deg, rgba(255,255,255,0.3), rgba(255,255,255,0.1));
            box-shadow: 0 0 50px rgba(0, 245, 255, 0.5), 0 0 100px rgba(255, 0, 255, 0.3), inset 0 0 30px rgba(255,255,255,0.2);
            border: 3px solid rgba(255,255,255,0.5);
        }
        
        .wheel {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            position: relative;
            transition: transform 4s cubic-bezier(0.17, 0.67, 0.12, 0.99);
            overflow: hidden;
            background: conic-gradient(
                from -18deg,
                #FF4757 0deg 36deg,
                #FF8C00 36deg 72deg,
                #10B981 72deg 108deg,
                #00D4FF 108deg 144deg,
                #3B82F6 144deg 180deg,
                #EC4899 180deg 216deg,
                #A855F7 216deg 252deg,
                #FF6B35 252deg 288deg,
                #22C55E 288deg 324deg,
                #14B8A6 324deg 360deg
            );
            box-shadow: inset 0 0 30px rgba(0,0,0,0.3);
        }
        
        .wheel-label {
            position: absolute;
            left: 50%;
            top: 50%;
            width: 110px;
            height: 30px;
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: flex-start;
            gap: 5px;
            padding-left: 30px;
            transform-origin: 0% 50%;
        }
        
        .wheel-label-icon {
            font-size: 1.2rem;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.5));
        }
        
        .wheel-label-text {
            font-family: 'Times New Roman', Times, serif;
            font-size: 0.6rem;
            font-weight: 700;
            color: white;
            text-transform: uppercase;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.9), 0 0 8px rgba(0,0,0,0.7);
            white-space: nowrap;
            letter-spacing: 0.05em;
        }
        
        .wheel-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 60px;
            background: linear-gradient(145deg, rgba(255,255,255,0.9), rgba(255,255,255,0.6));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 30px rgba(0, 245, 255, 0.8), 0 0 60px rgba(255, 0, 255, 0.5), inset 0 0 20px rgba(255,255,255,0.5);
            z-index: 10;
            border: 3px solid rgba(255,255,255,0.8);
        }
        
        .center-text { 
            font-family: 'Orbitron', sans-serif;
            font-size: 0.5rem; 
            font-weight: 700;
            color: #333;
            text-align: center; 
            line-height: 1.3;
            letter-spacing: 0.05em;
        }
        
        .wheel-pointer { 
            position: absolute; 
            top: -8px; 
            left: 50%; 
            transform: translateX(-50%); 
            z-index: 20; 
        }
        .pointer-shape { 
            width: 0; height: 0; 
            border-left: 14px solid transparent; 
            border-right: 14px solid transparent; 
            border-top: 32px solid #ffffff; 
            filter: drop-shadow(0 0 15px rgba(0, 245, 255, 0.8)) drop-shadow(0 4px 8px rgba(0,0,0,0.3)); 
        }
        .pointer-circle { 
            width: 12px; height: 12px; 
            background: linear-gradient(135deg, #00f5ff, #ff00ff);
            border-radius: 50%; 
            margin: -6px auto 0; 
            box-shadow: 0 0 20px rgba(0, 245, 255, 0.8), 0 0 40px rgba(255, 0, 255, 0.5);
            border: 2px solid white;
        }
        
        .spin-btn {
            margin-top: 1.5rem; 
            padding: 1rem 3rem; 
            font-family: 'Orbitron', sans-serif;
            font-size: 1rem; 
            font-weight: 700;
            letter-spacing: 0.1em; 
            color: #ffffff;
            background: linear-gradient(135deg, #00f5ff, #ff00ff, #00ff88);
            background-size: 200% 200%;
            animation: btnGradient 3s ease infinite;
            border: none; 
            border-radius: 50px; 
            cursor: pointer; 
            transition: all 0.3s ease;
            box-shadow: 0 0 30px rgba(0, 245, 255, 0.5), 0 0 60px rgba(255, 0, 255, 0.3);
            text-transform: uppercase;
        }
        
        @keyframes btnGradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .spin-btn:hover { 
            transform: translateY(-3px) scale(1.02); 
            box-shadow: 0 0 50px rgba(0, 245, 255, 0.7), 0 0 100px rgba(255, 0, 255, 0.5);
        }
        .spin-btn:disabled { opacity: 0.7; cursor: not-allowed; transform: none; }
        
        .topics-grid { display: flex; flex-direction: column; gap: 0.4rem; }
        .topic-item { 
            display: flex; align-items: center; gap: 0.5rem; 
            padding: 0.45rem 0.6rem; 
            border-radius: 10px; 
            background: rgba(255,255,255,0.1); 
            border: 1px solid rgba(255,255,255,0.2); 
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
        }
        .topic-item:hover { 
            background: rgba(255,255,255,0.2); 
            transform: translateX(5px);
            box-shadow: 0 0 20px rgba(255,255,255,0.3);
        }
        .topic-icon { 
            width: 28px; height: 28px; 
            border-radius: 8px; 
            display: flex; align-items: center; justify-content: center; 
            font-size: 0.9rem;
            box-shadow: 0 0 10px rgba(255,255,255,0.3);
        }
        .topic-item span { 
            font-family: 'Times New Roman', Times, serif;
            color: #ffffff; 
            font-size: 0.8rem; 
            font-weight: 700;
            text-shadow: 0 0 5px rgba(255,255,255,0.5);
        }
        .topic-heat .topic-icon { background: linear-gradient(135deg, var(--heat), #ff6b7a); }
        .topic-wildfires .topic-icon { background: linear-gradient(135deg, var(--wildfires), #ffa033); }
        .topic-climate .topic-icon { background: linear-gradient(135deg, var(--climate), #34d399); }
        .topic-air .topic-icon { background: linear-gradient(135deg, var(--air), #38bdf8); }
        .topic-water .topic-icon { background: linear-gradient(135deg, var(--water), #60a5fa); }
        .topic-health .topic-icon { background: linear-gradient(135deg, var(--health), #f472b6); }
        .topic-vector .topic-icon { background: linear-gradient(135deg, var(--vector), #c084fc); }
        .topic-food .topic-icon { background: linear-gradient(135deg, var(--food), #ff8f6b); }
        .topic-environment .topic-icon { background: linear-gradient(135deg, var(--environment), #4ade80); }
        .topic-microbes .topic-icon { background: linear-gradient(135deg, var(--microbes), #2dd4bf); }
        
        /* Modal Styles */
        .modal-overlay { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(102, 126, 234, 0.9);
            backdrop-filter: blur(20px);
            display: flex; align-items: center; justify-content: center; 
            z-index: 1000; opacity: 0; visibility: hidden; 
            transition: all 0.4s ease; 
            padding: 1rem; 
        }
        .modal-overlay.active { opacity: 1; visibility: visible; }
        .modal { 
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(30px);
            border-radius: 24px; 
            padding: 1.75rem; 
            max-width: 500px; width: 100%; 
            max-height: 85vh; overflow-y: auto; 
            transform: scale(0.9); 
            transition: transform 0.4s ease; 
            border: 2px solid rgba(255,255,255,0.4);
            box-shadow: 0 0 50px rgba(0, 245, 255, 0.3), 0 0 100px rgba(255, 0, 255, 0.2);
        }
        .modal-overlay.active .modal { transform: scale(1); }
        
        .modal-header { display: flex; align-items: center; gap: 1rem; margin-bottom: 1.25rem; }
        .result-icon { 
            width: 55px; height: 55px; 
            border-radius: 14px; 
            display: flex; align-items: center; justify-content: center; 
            font-size: 1.6rem;
            box-shadow: 0 0 25px rgba(255,255,255,0.5);
        }
        .result-category { 
            font-family: 'Orbitron', sans-serif;
            font-size: 1.4rem; 
            color: #ffffff;
            text-shadow: 0 0 15px rgba(0, 245, 255, 0.8);
        }
        .result-difficulty { 
            display: inline-block; padding: 0.25rem 0.7rem; 
            border-radius: 50px; font-size: 0.6rem; font-weight: 800; 
            text-transform: uppercase; margin-top: 0.3rem;
            font-family: 'Times New Roman', Times, serif;
        }
        .result-difficulty.easy { background: rgba(0, 255, 136, 0.3); color: #00ff88; border: 2px solid #00ff88; }
        .result-difficulty.medium { background: rgba(251, 191, 36, 0.3); color: #fbbf24; border: 2px solid #fbbf24; }
        .result-difficulty.hard { background: rgba(255, 71, 87, 0.3); color: #ff4757; border: 2px solid #ff4757; }
        
        .question-box { 
            background: rgba(255,255,255,0.1); 
            border-radius: 14px; padding: 1.1rem; margin-bottom: 1.1rem;
            border: 1px solid rgba(255,255,255,0.2);
        }
        .question-label { 
            font-family: 'Orbitron', sans-serif;
            color: rgba(255,255,255,0.7); 
            font-size: 0.6rem; font-weight: 700; 
            text-transform: uppercase; margin-bottom: 0.5rem;
            letter-spacing: 0.1em;
        }
        .question-text { 
            font-family: 'Times New Roman', Times, serif;
            color: #ffffff; 
            font-size: 1rem; font-weight: 700; line-height: 1.5;
            text-shadow: 0 0 5px rgba(255,255,255,0.3);
        }
        
        .answer-options { display: flex; flex-direction: column; gap: 0.5rem; margin-bottom: 1.1rem; }
        .answer-btn { 
            padding: 0.8rem 1rem; 
            background: rgba(255,255,255,0.1); 
            border: 2px solid rgba(255,255,255,0.2); 
            border-radius: 12px; 
            color: #ffffff; 
            font-family: 'Times New Roman', Times, serif;
            font-size: 0.9rem; font-weight: 600; 
            text-align: left; cursor: pointer; 
            transition: all 0.3s ease; 
            display: flex; align-items: center; gap: 0.6rem;
        }
        .answer-btn:hover:not(:disabled) { 
            background: rgba(255,255,255,0.2); 
            transform: translateX(5px);
            box-shadow: 0 0 20px rgba(255,255,255,0.3);
        }
        .answer-btn.selected { 
            border-color: var(--neon-blue); 
            background: rgba(0, 245, 255, 0.2);
            box-shadow: 0 0 25px rgba(0, 245, 255, 0.5);
        }
        .answer-btn.correct { 
            border-color: var(--neon-green); 
            background: rgba(0, 255, 136, 0.3);
            box-shadow: 0 0 25px rgba(0, 255, 136, 0.5);
        }
        .answer-btn.incorrect { 
            border-color: #ff4757; 
            background: rgba(255, 71, 87, 0.3);
            box-shadow: 0 0 25px rgba(255, 71, 87, 0.5);
        }
        .answer-btn:disabled { cursor: default; }
        .answer-letter { 
            width: 26px; height: 26px; 
            border-radius: 8px; 
            background: rgba(255,255,255,0.2); 
            display: flex; align-items: center; justify-content: center; 
            font-weight: 800; font-size: 0.8rem;
            font-family: 'Orbitron', sans-serif;
        }
        
        .explanation-box { 
            background: linear-gradient(135deg, rgba(0, 255, 136, 0.15), rgba(0, 245, 255, 0.15)); 
            border-radius: 12px; padding: 0.9rem; margin-bottom: 1.1rem; 
            border: 1px solid rgba(0, 255, 136, 0.3); 
            display: none; 
        }
        .explanation-box.show { display: block; }
        .explanation-title { 
            font-family: 'Orbitron', sans-serif;
            color: var(--neon-green); 
            font-size: 0.6rem; font-weight: 700; 
            text-transform: uppercase; margin-bottom: 0.4rem;
            text-shadow: 0 0 10px rgba(0, 255, 136, 0.5);
        }
        .explanation-text { 
            font-family: 'Times New Roman', Times, serif;
            color: rgba(255,255,255,0.9); 
            font-size: 0.85rem; line-height: 1.5;
        }
        
        .modal-buttons { display: flex; gap: 0.6rem; }
        .modal-btn { 
            flex: 1; padding: 0.8rem 1.1rem; 
            font-family: 'Orbitron', sans-serif;
            font-size: 0.75rem; font-weight: 700; 
            text-transform: uppercase; 
            border: none; border-radius: 12px; 
            cursor: pointer; transition: all 0.3s ease;
            letter-spacing: 0.05em;
        }
        .btn-primary { 
            background: linear-gradient(135deg, #00f5ff, #ff00ff);
            color: #ffffff;
            box-shadow: 0 0 25px rgba(0, 245, 255, 0.5);
        }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 0 40px rgba(0, 245, 255, 0.7); }
        .btn-secondary { 
            background: rgba(255,255,255,0.2); 
            color: #ffffff; 
            border: 2px solid rgba(255,255,255,0.4);
        }
        .btn-secondary:hover { background: rgba(255,255,255,0.3); }
        .btn-submit { 
            background: linear-gradient(135deg, var(--neon-green), #00cc6a);
            color: #ffffff;
            box-shadow: 0 0 25px rgba(0, 255, 136, 0.5);
        }
        .btn-submit:disabled { opacity: 0.5; cursor: not-allowed; }
        
        .confetti { 
            position: fixed; width: 10px; height: 10px; top: -20px; z-index: 2000; 
            animation: confetti-fall 3s ease-out forwards; 
        }
        @keyframes confetti-fall { 
            0% { transform: translateY(0) rotate(0deg); opacity: 1; } 
            100% { transform: translateY(100vh) rotate(720deg); opacity: 0; } 
        }
    </style>
</head>
<body>
    <div class="bg-effects">
        <div class="floating-orb orb1"></div>
        <div class="floating-orb orb2"></div>
        <div class="floating-orb orb3"></div>
        <div class="floating-orb orb4"></div>
    </div>
    <div class="grid-overlay"></div>
    
    <div class="container">
        <header>
            <div class="logo-icon">üåç</div>
            <h1>EcoSpin</h1>
            <p class="subtitle">Climate & Health Trivia Challenge</p>
        </header>

        <div class="main-content">
            <div class="panel">
                <h2 class="panel-title">‚ö° DIFFICULTY</h2>
                <div class="difficulty-options">
                    <button class="difficulty-btn easy active" data-difficulty="easy">
                        <div class="difficulty-icon">üå±</div>
                        <div class="difficulty-info"><h3>Easy</h3><p>Starter questions</p></div>
                        <div class="difficulty-check"></div>
                    </button>
                    <button class="difficulty-btn medium" data-difficulty="medium">
                        <div class="difficulty-icon">üåø</div>
                        <div class="difficulty-info"><h3>Medium</h3><p>Test your knowledge</p></div>
                        <div class="difficulty-check"></div>
                    </button>
                    <button class="difficulty-btn hard" data-difficulty="hard">
                        <div class="difficulty-icon">üå≥</div>
                        <div class="difficulty-info"><h3>Hard</h3><p>Expert challenge</p></div>
                        <div class="difficulty-check"></div>
                    </button>
                </div>
            </div>

            <div class="wheel-section">
                <div class="wheel-container">
                    <div class="wheel-glow"></div>
                    <div class="wheel-outer">
                        <div class="wheel" id="wheel"></div>
                        <div class="wheel-center">
                            <span class="center-text">SPIN<br>TO WIN</span>
                        </div>
                    </div>
                    <div class="wheel-pointer">
                        <div class="pointer-shape"></div>
                        <div class="pointer-circle"></div>
                    </div>
                </div>
                <button class="spin-btn" id="spinBtn">üéØ SPIN THE WHEEL</button>
            </div>

            <div class="panel">
                <h2 class="panel-title">üìö TOPICS</h2>
                <div class="topics-grid">
                    <div class="topic-item topic-heat"><div class="topic-icon">üå°Ô∏è</div><span>Heat</span></div>
                    <div class="topic-item topic-wildfires"><div class="topic-icon">üî•</div><span>Wildfires</span></div>
                    <div class="topic-item topic-climate"><div class="topic-icon">üåé</div><span>Climate Facts</span></div>
                    <div class="topic-item topic-air"><div class="topic-icon">üí®</div><span>Air Quality</span></div>
                    <div class="topic-item topic-water"><div class="topic-icon">üåßÔ∏è</div><span>Water/Monsoon</span></div>
                    <div class="topic-item topic-health"><div class="topic-icon">‚ù§Ô∏è</div><span>Health</span></div>
                    <div class="topic-item topic-vector"><div class="topic-icon">ü¶ü</div><span>Vector Control</span></div>
                    <div class="topic-item topic-food"><div class="topic-icon">üçé</div><span>Food</span></div>
                    <div class="topic-item topic-environment"><div class="topic-icon">üå≤</div><span>Environment</span></div>
                    <div class="topic-item topic-microbes"><div class="topic-icon">ü¶†</div><span>Microbes</span></div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="modal">
        <div class="modal">
            <div class="modal-header">
                <div class="result-icon" id="resultIcon"></div>
                <div>
                    <h2 class="result-category" id="resultCategory"></h2>
                    <span class="result-difficulty" id="resultDifficulty"></span>
                </div>
            </div>
            <div class="question-box">
                <div class="question-label">‚ùì Question</div>
                <div class="question-text" id="questionText"></div>
            </div>
            <div class="answer-options" id="answerOptions"></div>
            <div class="explanation-box" id="explanationBox">
                <div class="explanation-title">üí° Did you know?</div>
                <div class="explanation-text" id="explanationText"></div>
            </div>
            <div class="modal-buttons">
                <button class="modal-btn btn-submit" id="submitBtn" disabled>Check Answer</button>
                <button class="modal-btn btn-secondary" id="closeModalBtn">Close</button>
            </div>
        </div>
    </div>

    <script>
        const questions = {
            heat: {
                easy: [{ question: "What is the healthiest drink option to stay cool and hydrated on a hot day?", options: ["Water", "Soda", "All of them"], correct: 0, explanation: "Water is the best choice! Drink plenty of water on hot days to stay hydrated. Arizona's dry heat makes hydration essential." }],
                medium: [{ question: "What was the highest temperature on record in Tucson?", options: ["240¬∞F", "117¬∞F", "114¬∞F"], correct: 1, explanation: "117¬∞F! The highest temperature ever recorded was on June 26th, 1990." }],
                hard: [{ question: "Can you name at least two symptoms of heat stroke?", options: ["High body temperature & confusion", "Cold skin & low temperature", "Hunger & thirst only"], correct: 0, explanation: "Heat stroke symptoms include: high body temperature (103¬∞F or higher), hot/red/dry skin, headache, dizziness, nausea, confusion, and losing consciousness." }]
            },
            wildfires: {
                easy: [{ question: "True or False: Fire season is getting longer around the globe.", options: ["True", "False"], correct: 0, explanation: "True! According to NASA, fire seasons are now more than a month longer than 35 years ago." }],
                medium: [{ question: "Why is Arizona a wildfire-prone zone?", options: ["Too many trees", "Semi-arid climate and drought", "Too much rainfall"], correct: 1, explanation: "Arizona has a semi-arid climate with drought conditions that make it susceptible to wildfires." }],
                hard: [{ question: "What is the difference between wildfires and prescribed fires?", options: ["No difference", "Wildfires are unplanned; prescribed fires are planned", "Prescribed fires are larger"], correct: 1, explanation: "Wildfires are unplanned while prescribed fires are planned for forest health." }]
            },
            climate: {
                easy: [{ question: "Name one activity that can make a positive impact on the environment:", options: ["Leaving lights on", "Recycling and turning off lights", "Driving everywhere"], correct: 1, explanation: "Small changes like recycling and turning off lights can make a difference!" }],
                medium: [{ question: "What is a fossil fuel that occurs in nature?", options: ["Solar", "Wind energy", "Coal"], correct: 2, explanation: "Coal is created when dead plants get packed in the ground for thousands of years." }],
                hard: [{ question: "How many sunny days does Arizona have per year?", options: ["300 days", "280 days", "360 days"], correct: 0, explanation: "Arizona has about 300 days of sunny skies!" }]
            },
            air: {
                easy: [{ question: "True or False: Air pollution affects everyone.", options: ["True", "False"], correct: 0, explanation: "True! Air pollution affects everyone, especially children and older adults." }],
                medium: [{ question: "How far can air pollution travel?", options: ["1 block", "1 mile", "Around the world"], correct: 2, explanation: "Around the world! NASA has observed pollution moving between continents." }],
                hard: [{ question: "What lawn mower produces MORE air pollution?", options: ["Gas powered", "Manual mower", "Electric mower"], correct: 0, explanation: "Gas-powered equipment produces the most pollution!" }]
            },
            water: {
                easy: [{ question: "How much water does a person use daily?", options: ["20 gallons", "82 gallons", "150 gallons"], correct: 1, explanation: "82 gallons for all uses including showering, cooking, and more!" }],
                medium: [{ question: "When does monsoon season start in Arizona?", options: ["June 15", "July 1", "August 1"], correct: 0, explanation: "June 15 through September 30 is monsoon season in Arizona." }],
                hard: [{ question: "Why do Tucson roads flood during monsoons?", options: ["Water parks", "Hard soil doesn't absorb water", "Slip 'n Slide experiment"], correct: 1, explanation: "Hard, dry soil and asphalt don't soak up water!" }]
            },
            health: {
                easy: [{ question: "Will climate change increase or decrease asthma attacks?", options: ["Increase", "Decrease"], correct: 0, explanation: "Increase! Climate changes can trigger more asthma attacks." }],
                medium: [{ question: "How many cooling centers in Pima County?", options: ["100", "39", "440"], correct: 1, explanation: "39 cooling centers provide relief during hot summers." }],
                hard: [{ question: "How do green spaces help health?", options: ["They don't help", "Encourage activity and reduce heat", "Only look nice"], correct: 1, explanation: "Green spaces encourage physical activity and reduce heat!" }]
            },
            vector: {
                easy: [{ question: "True or False: Mosquitoes thrive in standing water.", options: ["True", "False"], correct: 0, explanation: "True! Standing water is a breeding ground for mosquitoes." }],
                medium: [{ question: "Can Aedes aegypti spread Zika and Dengue?", options: ["True", "False"], correct: 0, explanation: "True! These mosquitoes can spread multiple diseases." }],
                hard: [{ question: "Where do Aedes mosquitoes live around homes?", options: ["Large ponds only", "Buckets, flower pots, old tires", "Only indoors"], correct: 1, explanation: "They love artificial containers that collect water!" }]
            },
            food: {
                easy: [{ question: "Can droughts and fires impact food supply?", options: ["True", "False"], correct: 0, explanation: "TRUE! Climate events affect food security." }],
                medium: [{ question: "Which food has high greenhouse gas emissions?", options: ["Vegetables", "Red meat and dairy", "Grains"], correct: 1, explanation: "Animal-based foods have the highest emissions." }],
                hard: [{ question: "What percent of US produce comes from Arizona?", options: ["12%", "40%", "65%"], correct: 0, explanation: "Arizona produces 12% of US fruits and vegetables!" }]
            },
            environment: {
                easy: [{ question: "What benefit do urban trees provide?", options: ["Use too much water", "Shade and cooling", "No benefits"], correct: 1, explanation: "Trees provide shade, cooling, and capture stormwater!" }],
                medium: [{ question: "What is Tucson Million Trees program?", options: ["Cut down trees", "Plant 1 million trees by 2030", "Tree museum"], correct: 1, explanation: "Mayor Romero's goal to plant 1 million trees by 2030!" }],
                hard: [{ question: "What is a carbon sink?", options: ["Kitchen sink", "Natural system that stores CO2", "Car filter"], correct: 1, explanation: "Carbon sinks absorb CO2 - oceans and forests are the largest!" }]
            },
            microbes: {
                easy: [{ question: "How many germs fit on a pin head?", options: ["100", "1,000", "Over 10 million!"], correct: 2, explanation: "Over 10 million! That's why hand washing is important." }],
                medium: [{ question: "How fast do germs spread in a building?", options: ["2 hours", "12 hours", "24 hours"], correct: 0, explanation: "Just 2 hours! Germs spread incredibly fast." }],
                hard: [{ question: "Does the body have more bacteria or human cells?", options: ["Human cells", "Bacteria by 100x!", "Equal"], correct: 1, explanation: "Bacteria outnumber human cells by about 100 times!" }]
            }
        };

        const topics = [
            { id: 'heat', name: 'Heat', icon: 'üå°Ô∏è' },
            { id: 'wildfires', name: 'Wildfires', icon: 'üî•' },
            { id: 'climate', name: 'Climate', icon: 'üåé' },
            { id: 'air', name: 'Air', icon: 'üí®' },
            { id: 'water', name: 'Water', icon: 'üåßÔ∏è' },
            { id: 'health', name: 'Health', icon: '‚ù§Ô∏è' },
            { id: 'vector', name: 'Vector', icon: 'ü¶ü' },
            { id: 'food', name: 'Food', icon: 'üçé' },
            { id: 'environment', name: 'Environ', icon: 'üå≤' },
            { id: 'microbes', name: 'Microbes', icon: 'ü¶†' }
        ];

        const colorMap = { heat: '#FF4757', wildfires: '#FF8C00', climate: '#10B981', air: '#00D4FF', water: '#3B82F6', health: '#EC4899', vector: '#A855F7', food: '#FF6B35', environment: '#22C55E', microbes: '#14B8A6' };

        // Create wheel labels
        const wheel = document.getElementById('wheel');
        const segmentAngle = 360 / topics.length;
        
        topics.forEach((topic, index) => {
            const label = document.createElement('div');
            label.className = 'wheel-label';
            const angle = index * segmentAngle + segmentAngle / 2 - 90;
            label.style.transform = `rotate(${angle}deg)`;
            label.innerHTML = `
                <span class="wheel-label-icon">${topic.icon}</span>
                <span class="wheel-label-text">${topic.name}</span>
            `;
            wheel.appendChild(label);
        });

        let selectedDifficulty = 'easy';
        document.querySelectorAll('.difficulty-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.difficulty-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                selectedDifficulty = btn.dataset.difficulty;
            });
        });

        const spinBtn = document.getElementById('spinBtn');
        let isSpinning = false, currentRotation = 0;
        
        spinBtn.addEventListener('click', () => {
            if (isSpinning) return;
            isSpinning = true;
            spinBtn.disabled = true;
            
            const spins = 5 + Math.random() * 5;
            const extraDegrees = Math.random() * 360;
            currentRotation += spins * 360 + extraDegrees;
            wheel.style.transform = `rotate(${currentRotation}deg)`;
            
            setTimeout(() => {
                const normalizedRotation = currentRotation % 360;
                const segmentIndex = Math.floor(((360 - normalizedRotation + 18) % 360) / segmentAngle) % topics.length;
                showQuestion(topics[segmentIndex]);
                isSpinning = false;
                spinBtn.disabled = false;
            }, 4000);
        });

        const modal = document.getElementById('modal');
        let currentQuestion = null, selectedAnswer = null, answered = false;

        function showQuestion(topic) {
            const qs = questions[topic.id][selectedDifficulty];
            if (!qs?.length) { alert(`No ${selectedDifficulty} questions for ${topic.name}`); return; }
            currentQuestion = qs[Math.floor(Math.random() * qs.length)];
            selectedAnswer = null; answered = false; attempts = 0;
            
            document.getElementById('resultIcon').style.background = `linear-gradient(135deg, ${colorMap[topic.id]}, ${colorMap[topic.id]}99)`;
            document.getElementById('resultIcon').textContent = topic.icon;
            document.getElementById('resultCategory').textContent = topic.name;
            document.getElementById('resultDifficulty').textContent = selectedDifficulty;
            document.getElementById('resultDifficulty').className = `result-difficulty ${selectedDifficulty}`;
            document.getElementById('questionText').textContent = currentQuestion.question;
            
            const opts = document.getElementById('answerOptions');
            opts.innerHTML = '';
            ['A','B','C'].forEach((l,i) => {
                if (!currentQuestion.options[i]) return;
                const btn = document.createElement('button');
                btn.className = 'answer-btn';
                btn.innerHTML = `<span class="answer-letter">${l}</span><span>${currentQuestion.options[i]}</span>`;
                btn.onclick = () => { 
                    if (answered || btn.disabled) return; 
                    selectedAnswer = i; 
                    opts.querySelectorAll('.answer-btn').forEach(b => { if (!b.disabled) b.classList.remove('selected'); }); 
                    btn.classList.add('selected'); 
                    document.getElementById('submitBtn').disabled = false; 
                };
                opts.appendChild(btn);
            });
            
            document.getElementById('explanationBox').classList.remove('show');
            document.getElementById('explanationBox').style.borderColor = '';
            document.querySelector('.explanation-title').textContent = 'üí° Did you know?';
            document.querySelector('.explanation-title').style.color = '';
            const sub = document.getElementById('submitBtn');
            sub.disabled = true; 
            sub.textContent = 'Check Answer'; 
            sub.className = 'modal-btn btn-submit'; 
            sub.onclick = checkAnswer;
            modal.classList.add('active');
        }

        let attempts = 0;
        const maxAttempts = 2;

        function checkAnswer() {
            if (selectedAnswer === null) return;
            
            const selectedBtn = document.querySelectorAll('.answer-btn')[selectedAnswer];
            
            if (selectedAnswer === currentQuestion.correct) {
                // Correct answer
                answered = true;
                document.querySelectorAll('.answer-btn').forEach((btn, i) => { 
                    btn.disabled = true; 
                    if (i === currentQuestion.correct) btn.classList.add('correct');
                });
                
                createConfetti();
                
                document.getElementById('explanationText').textContent = currentQuestion.explanation;
                document.getElementById('explanationBox').classList.add('show');
                
                const sub = document.getElementById('submitBtn');
                sub.textContent = 'üéØ Spin Again'; 
                sub.className = 'modal-btn btn-primary'; 
                sub.disabled = false;
                sub.onclick = () => { modal.classList.remove('active'); setTimeout(() => spinBtn.click(), 300); };
            } else {
                // Wrong answer
                attempts++;
                selectedBtn.classList.add('incorrect');
                selectedBtn.disabled = true;
                
                if (attempts >= maxAttempts) {
                    // No more attempts - show correct answer
                    answered = true;
                    document.querySelectorAll('.answer-btn').forEach((btn, i) => { 
                        btn.disabled = true; 
                        if (i === currentQuestion.correct) btn.classList.add('correct');
                    });
                    
                    document.getElementById('explanationText').textContent = "The correct answer was: " + currentQuestion.options[currentQuestion.correct] + ". " + currentQuestion.explanation;
                    document.getElementById('explanationBox').classList.add('show');
                    
                    const sub = document.getElementById('submitBtn');
                    sub.textContent = 'üéØ Spin Again'; 
                    sub.className = 'modal-btn btn-primary'; 
                    sub.disabled = false;
                    sub.onclick = () => { modal.classList.remove('active'); setTimeout(() => spinBtn.click(), 300); };
                } else {
                    // Give another chance
                    selectedAnswer = null;
                    document.getElementById('submitBtn').disabled = true;
                    
                    // Show hint message
                    const hintBox = document.getElementById('explanationBox');
                    document.getElementById('explanationText').textContent = "‚ùå Not quite! You have " + (maxAttempts - attempts) + " more chance. Try again!";
                    hintBox.classList.add('show');
                    hintBox.style.borderColor = 'rgba(255, 71, 87, 0.5)';
                    document.querySelector('.explanation-title').textContent = 'üîÑ Try Again';
                    document.querySelector('.explanation-title').style.color = '#ff6b7a';
                }
            }
        }

        function createConfetti() {
            const colors = ['#00f5ff', '#ff00ff', '#00ff88', '#ffff00', '#ff4757', '#fbbf24'];
            for (let i = 0; i < 50; i++) {
                const c = document.createElement('div');
                c.className = 'confetti';
                c.style.left = `${Math.random() * 100}%`;
                c.style.background = colors[Math.floor(Math.random() * colors.length)];
                c.style.animationDelay = `${Math.random() * 0.5}s`;
                c.style.boxShadow = `0 0 10px ${colors[Math.floor(Math.random() * colors.length)]}`;
                document.body.appendChild(c);
                setTimeout(() => c.remove(), 3500);
            }
        }

        document.getElementById('closeModalBtn').onclick = () => modal.classList.remove('active');
        modal.onclick = (e) => { if (e.target === modal) modal.classList.remove('active'); };
    </script>
</body>
</html>
