<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoSpin - Climate & Health Trivia</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        :root {
            /* UofA Colors */
            --ua-red: #AB0520;
            --ua-blue: #0C234B;
            --ua-red-light: #c41e3a;
            --ua-blue-light: #1e3a5f;
            
            /* Neutral tones */
            --neutral-50: #fafafa;
            --neutral-100: #f5f5f5;
            --neutral-200: #e5e5e5;
            --neutral-300: #d4d4d4;
            --neutral-400: #a3a3a3;
            --neutral-500: #737373;
            --neutral-600: #525252;
            --neutral-700: #404040;
            --neutral-800: #262626;
            --neutral-900: #171717;
            
            /* Wheel segment colors - muted, professional */
            --heat: #c44536;
            --wildfires: #d97706;
            --climate: #059669;
            --air: #0891b2;
            --water: #2563eb;
            --health: #db2777;
            --vector: #7c3aed;
            --food: #ea580c;
            --environment: #16a34a;
            --microbes: #0d9488;
            
            --gold: #d4a944;
            --easy: #059669;
            --medium: #d97706;
            --hard: #dc2626;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Times New Roman', Times, serif; 
            min-height: 100vh; 
            overflow-x: hidden;
            background: linear-gradient(145deg, var(--ua-blue) 0%, #1a3a5c 50%, var(--ua-blue) 100%);
        }
        
        /* Subtle background pattern */
        .bg-pattern {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            background-image: 
                radial-gradient(ellipse at 20% 30%, rgba(171, 5, 32, 0.15) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 70%, rgba(171, 5, 32, 0.1) 0%, transparent 50%);
        }
        
        /* Subtle grid overlay */
        .grid-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(255,255,255,0.02) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255,255,255,0.02) 1px, transparent 1px);
            background-size: 60px 60px;
            z-index: 1;
            pointer-events: none;
        }
        
        .container { 
            max-width: 1000px; 
            margin: 0 auto; 
            padding: 1.5rem; 
            position: relative; 
            z-index: 2; 
        }
        
        header { text-align: center; margin-bottom: 1.5rem; }
        .logo-icon {
            width: 65px; height: 65px; margin: 0 auto 0.5rem;
            background: linear-gradient(135deg, var(--ua-red), var(--ua-red-light));
            border-radius: 50%; 
            display: flex; align-items: center; justify-content: center;
            font-size: 1.8rem; 
            box-shadow: 0 4px 20px rgba(171, 5, 32, 0.4);
            border: 3px solid rgba(255,255,255,0.2);
        }
        
        h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.8rem;
            font-weight: 800;
            color: #ffffff;
            letter-spacing: 0.12em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            text-transform: uppercase;
        }
        .subtitle { 
            font-family: 'Times New Roman', Times, serif;
            color: var(--neutral-300); 
            font-size: 1rem; 
            font-weight: 600; 
            letter-spacing: 0.25em; 
            text-transform: uppercase;
        }
        
        .main-content { 
            display: grid; 
            grid-template-columns: 200px 1fr 200px; 
            gap: 2rem; 
            align-items: center;
        }
        @media (max-width: 850px) { 
            .main-content { 
                grid-template-columns: 1fr; 
                gap: 1.5rem;
            }
            .main-content > * { max-width: 350px; margin: 0 auto; width: 100%; }
        }
        
        .panel {
            background: linear-gradient(145deg, rgba(255,255,255,0.08), rgba(255,255,255,0.03));
            backdrop-filter: blur(10px);
            border-radius: 16px; 
            padding: 1.25rem; 
            border: 1px solid rgba(255,255,255,0.1);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        .panel-title { 
            font-family: 'Orbitron', sans-serif;
            color: #ffffff; 
            font-size: 0.95rem; 
            font-weight: 700;
            letter-spacing: 0.1em; 
            margin-bottom: 0.75rem;
        }
        
        .difficulty-options { display: flex; flex-direction: column; gap: 0.5rem; }
        .difficulty-btn {
            padding: 0.65rem 0.85rem; 
            border: 2px solid rgba(255,255,255,0.15); 
            border-radius: 10px;
            cursor: pointer; 
            transition: all 0.3s ease; 
            display: flex; 
            align-items: center;
            gap: 0.6rem; 
            background: rgba(255,255,255,0.05);
        }
        .difficulty-btn.easy:hover, .difficulty-btn.easy.active { 
            border-color: var(--easy); 
            background: rgba(5, 150, 105, 0.15); 
            box-shadow: 0 0 15px rgba(5, 150, 105, 0.3);
        }
        .difficulty-btn.medium:hover, .difficulty-btn.medium.active { 
            border-color: var(--medium); 
            background: rgba(217, 119, 6, 0.15); 
            box-shadow: 0 0 15px rgba(217, 119, 6, 0.3);
        }
        .difficulty-btn.hard:hover, .difficulty-btn.hard.active { 
            border-color: var(--hard); 
            background: rgba(220, 38, 38, 0.15); 
            box-shadow: 0 0 15px rgba(220, 38, 38, 0.3);
        }
        
        .difficulty-icon { 
            width: 34px; height: 34px; 
            border-radius: 8px; 
            display: flex; align-items: center; justify-content: center; 
            font-size: 1rem;
        }
        .easy .difficulty-icon { background: linear-gradient(135deg, var(--easy), #047857); }
        .medium .difficulty-icon { background: linear-gradient(135deg, var(--medium), #b45309); }
        .hard .difficulty-icon { background: linear-gradient(135deg, var(--hard), #b91c1c); }
        .difficulty-info h3 { 
            font-family: 'Times New Roman', Times, serif;
            color: #ffffff; 
            font-size: 0.9rem; 
            font-weight: 700;
        }
        .difficulty-info p { color: var(--neutral-400); font-size: 0.65rem; }
        .difficulty-check { 
            margin-left: auto; 
            width: 20px; height: 20px; 
            border-radius: 50%; 
            border: 2px solid rgba(255,255,255,0.3); 
            display: flex; align-items: center; justify-content: center;
        }
        .difficulty-btn.active .difficulty-check { 
            border-color: #ffffff; 
            background: #ffffff;
        }
        .difficulty-btn.active .difficulty-check::after { content: '‚úì'; color: var(--ua-blue); font-weight: 900; font-size: 0.65rem; }
        
        .wheel-section { display: flex; flex-direction: column; align-items: center; }
        
        .wheel-container { 
            position: relative; 
            width: 300px; 
            height: 300px; 
        }
        
        .wheel-glow {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 330px; height: 330px; border-radius: 50%;
            background: radial-gradient(circle, rgba(171, 5, 32, 0.3) 0%, transparent 70%);
            filter: blur(30px); 
            opacity: 0.8;
        }
        
        .wheel-outer {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 290px;
            height: 290px;
            border-radius: 50%;
            padding: 8px;
            background: linear-gradient(145deg, var(--neutral-700), var(--neutral-800));
            box-shadow: 0 10px 40px rgba(0,0,0,0.4), inset 0 2px 0 rgba(255,255,255,0.1);
            border: 4px solid var(--ua-red);
        }
        
        .wheel {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            position: relative;
            transition: transform 4s cubic-bezier(0.17, 0.67, 0.12, 0.99);
            overflow: hidden;
            background: conic-gradient(
                from -18deg,
                #c44536 0deg 36deg,
                #d97706 36deg 72deg,
                #059669 72deg 108deg,
                #0891b2 108deg 144deg,
                #2563eb 144deg 180deg,
                #db2777 180deg 216deg,
                #7c3aed 216deg 252deg,
                #ea580c 252deg 288deg,
                #16a34a 288deg 324deg,
                #0d9488 324deg 360deg
            );
            box-shadow: inset 0 0 20px rgba(0,0,0,0.3);
        }
        
        .wheel-label {
            position: absolute;
            left: 50%;
            top: 50%;
            width: 105px;
            height: 30px;
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: flex-start;
            gap: 5px;
            padding-left: 32px;
            transform-origin: 0% 50%;
        }
        
        .wheel-label-icon {
            font-size: 1.15rem;
            filter: drop-shadow(0 2px 3px rgba(0,0,0,0.5));
        }
        
        .wheel-label-text {
            font-family: 'Times New Roman', Times, serif;
            font-size: 0.55rem;
            font-weight: 700;
            color: white;
            text-transform: uppercase;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.9), 0 0 6px rgba(0,0,0,0.6);
            white-space: nowrap;
            letter-spacing: 0.03em;
        }
        
        .wheel-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 58px;
            height: 58px;
            background: linear-gradient(145deg, var(--ua-red), var(--ua-red-light));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 20px rgba(171, 5, 32, 0.5);
            z-index: 10;
            border: 3px solid rgba(255,255,255,0.3);
        }
        
        .center-text { 
            font-family: 'Orbitron', sans-serif;
            font-size: 0.45rem; 
            font-weight: 700;
            color: #ffffff;
            text-align: center; 
            line-height: 1.3;
            letter-spacing: 0.05em;
        }
        
        .wheel-pointer { 
            position: absolute; 
            top: -8px; 
            left: 50%; 
            transform: translateX(-50%); 
            z-index: 20; 
        }
        .pointer-shape { 
            width: 0; height: 0; 
            border-left: 14px solid transparent; 
            border-right: 14px solid transparent; 
            border-top: 32px solid var(--ua-red); 
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.4)); 
        }
        .pointer-circle { 
            width: 12px; height: 12px; 
            background: var(--ua-red);
            border-radius: 50%; 
            margin: -6px auto 0; 
            box-shadow: 0 0 15px rgba(171, 5, 32, 0.6);
            border: 2px solid rgba(255,255,255,0.5);
        }
        
        .spin-btn {
            margin-top: 1.5rem; 
            padding: 1rem 2.5rem; 
            font-family: 'Orbitron', sans-serif;
            font-size: 0.95rem; 
            font-weight: 700;
            letter-spacing: 0.1em; 
            color: #ffffff;
            background: linear-gradient(135deg, var(--ua-red), var(--ua-red-light));
            border: none; 
            border-radius: 50px; 
            cursor: pointer; 
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(171, 5, 32, 0.4);
            text-transform: uppercase;
        }
        
        .spin-btn:hover { 
            transform: translateY(-3px); 
            box-shadow: 0 8px 30px rgba(171, 5, 32, 0.5);
        }
        .spin-btn:disabled { opacity: 0.7; cursor: not-allowed; transform: none; }
        
        .topics-grid { display: flex; flex-direction: column; gap: 0.4rem; }
        .topic-item { 
            display: flex; align-items: center; gap: 0.5rem; 
            padding: 0.45rem 0.6rem; 
            border-radius: 8px; 
            background: rgba(255,255,255,0.05); 
            border: 1px solid rgba(255,255,255,0.08); 
            transition: all 0.3s ease;
        }
        .topic-item:hover { 
            background: rgba(255,255,255,0.1); 
            transform: translateX(4px);
        }
        .topic-icon { 
            width: 26px; height: 26px; 
            border-radius: 6px; 
            display: flex; align-items: center; justify-content: center; 
            font-size: 0.85rem;
        }
        .topic-item span { 
            font-family: 'Times New Roman', Times, serif;
            color: var(--neutral-200); 
            font-size: 0.75rem; 
            font-weight: 600;
        }
        .topic-heat .topic-icon { background: linear-gradient(135deg, var(--heat), #a83228); }
        .topic-wildfires .topic-icon { background: linear-gradient(135deg, var(--wildfires), #b45309); }
        .topic-climate .topic-icon { background: linear-gradient(135deg, var(--climate), #047857); }
        .topic-air .topic-icon { background: linear-gradient(135deg, var(--air), #0e7490); }
        .topic-water .topic-icon { background: linear-gradient(135deg, var(--water), #1d4ed8); }
        .topic-health .topic-icon { background: linear-gradient(135deg, var(--health), #be185d); }
        .topic-vector .topic-icon { background: linear-gradient(135deg, var(--vector), #6d28d9); }
        .topic-food .topic-icon { background: linear-gradient(135deg, var(--food), #c2410c); }
        .topic-environment .topic-icon { background: linear-gradient(135deg, var(--environment), #15803d); }
        .topic-microbes .topic-icon { background: linear-gradient(135deg, var(--microbes), #0f766e); }
        
        /* Modal Styles */
        .modal-overlay { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(12, 35, 75, 0.95);
            backdrop-filter: blur(15px);
            display: flex; align-items: center; justify-content: center; 
            z-index: 1000; opacity: 0; visibility: hidden; 
            transition: all 0.4s ease; 
            padding: 1rem; 
        }
        .modal-overlay.active { opacity: 1; visibility: visible; }
        .modal { 
            background: linear-gradient(145deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
            backdrop-filter: blur(20px);
            border-radius: 20px; 
            padding: 1.75rem; 
            max-width: 500px; width: 100%; 
            max-height: 85vh; overflow-y: auto; 
            transform: scale(0.9); 
            transition: transform 0.4s ease; 
            border: 1px solid rgba(255,255,255,0.15);
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
        }
        .modal-overlay.active .modal { transform: scale(1); }
        
        .modal-header { display: flex; align-items: center; gap: 1rem; margin-bottom: 1.25rem; }
        .result-icon { 
            width: 55px; height: 55px; 
            border-radius: 12px; 
            display: flex; align-items: center; justify-content: center; 
            font-size: 1.6rem;
        }
        .result-category { 
            font-family: 'Orbitron', sans-serif;
            font-size: 1.3rem; 
            color: #ffffff;
        }
        .result-difficulty { 
            display: inline-block; padding: 0.25rem 0.7rem; 
            border-radius: 50px; font-size: 0.6rem; font-weight: 700; 
            text-transform: uppercase; margin-top: 0.3rem;
            font-family: 'Times New Roman', Times, serif;
        }
        .result-difficulty.easy { background: rgba(5, 150, 105, 0.2); color: #34d399; border: 2px solid #059669; }
        .result-difficulty.medium { background: rgba(217, 119, 6, 0.2); color: #fbbf24; border: 2px solid #d97706; }
        .result-difficulty.hard { background: rgba(220, 38, 38, 0.2); color: #f87171; border: 2px solid #dc2626; }
        
        .question-box { 
            background: rgba(0,0,0,0.2); 
            border-radius: 12px; padding: 1.1rem; margin-bottom: 1.1rem;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .question-label { 
            font-family: 'Orbitron', sans-serif;
            color: var(--neutral-400); 
            font-size: 0.6rem; font-weight: 600; 
            text-transform: uppercase; margin-bottom: 0.5rem;
            letter-spacing: 0.1em;
        }
        .question-text { 
            font-family: 'Times New Roman', Times, serif;
            color: #ffffff; 
            font-size: 1rem; font-weight: 600; line-height: 1.5;
        }
        
        .answer-options { display: flex; flex-direction: column; gap: 0.5rem; margin-bottom: 1.1rem; }
        .answer-btn { 
            padding: 0.8rem 1rem; 
            background: rgba(255,255,255,0.05); 
            border: 2px solid rgba(255,255,255,0.1); 
            border-radius: 10px; 
            color: #ffffff; 
            font-family: 'Times New Roman', Times, serif;
            font-size: 0.9rem; font-weight: 600; 
            text-align: left; cursor: pointer; 
            transition: all 0.3s ease; 
            display: flex; align-items: center; gap: 0.6rem;
        }
        .answer-btn:hover:not(:disabled) { 
            background: rgba(255,255,255,0.1); 
            transform: translateX(4px);
        }
        .answer-btn.selected { 
            border-color: var(--ua-red); 
            background: rgba(171, 5, 32, 0.2);
        }
        .answer-btn.correct { 
            border-color: var(--easy); 
            background: rgba(5, 150, 105, 0.2);
        }
        .answer-btn.incorrect { 
            border-color: var(--hard); 
            background: rgba(220, 38, 38, 0.2);
        }
        .answer-btn:disabled { cursor: default; }
        .answer-letter { 
            width: 26px; height: 26px; 
            border-radius: 6px; 
            background: rgba(255,255,255,0.1); 
            display: flex; align-items: center; justify-content: center; 
            font-weight: 800; font-size: 0.8rem;
            font-family: 'Orbitron', sans-serif;
        }
        
        .explanation-box { 
            background: rgba(5, 150, 105, 0.1); 
            border-radius: 12px; padding: 0.9rem; margin-bottom: 1.1rem; 
            border: 1px solid rgba(5, 150, 105, 0.3); 
            display: none; 
        }
        .explanation-box.show { display: block; }
        .explanation-title { 
            font-family: 'Orbitron', sans-serif;
            color: #34d399; 
            font-size: 0.6rem; font-weight: 700; 
            text-transform: uppercase; margin-bottom: 0.4rem;
        }
        .explanation-text { 
            font-family: 'Times New Roman', Times, serif;
            color: var(--neutral-200); 
            font-size: 0.85rem; line-height: 1.5;
        }
        
        .modal-buttons { display: flex; gap: 0.6rem; }
        .modal-btn { 
            flex: 1; padding: 0.8rem 1.1rem; 
            font-family: 'Orbitron', sans-serif;
            font-size: 0.7rem; font-weight: 700; 
            text-transform: uppercase; 
            border: none; border-radius: 10px; 
            cursor: pointer; transition: all 0.3s ease;
            letter-spacing: 0.05em;
        }
        .btn-primary { 
            background: linear-gradient(135deg, var(--ua-red), var(--ua-red-light));
            color: #ffffff;
        }
        .btn-primary:hover { transform: translateY(-2px); }
        .btn-secondary { 
            background: rgba(255,255,255,0.1); 
            color: #ffffff; 
            border: 2px solid rgba(255,255,255,0.2);
        }
        .btn-secondary:hover { background: rgba(255,255,255,0.15); }
        .btn-submit { 
            background: linear-gradient(135deg, var(--easy), #047857);
            color: #ffffff;
        }
        .btn-submit:disabled { opacity: 0.5; cursor: not-allowed; }
        
        .confetti { 
            position: fixed; width: 10px; height: 10px; top: -20px; z-index: 2000; 
            animation: confetti-fall 3s ease-out forwards; 
        }
        @keyframes confetti-fall { 
            0% { transform: translateY(0) rotate(0deg); opacity: 1; } 
            100% { transform: translateY(100vh) rotate(720deg); opacity: 0; } 
        }
    </style>
</head>
<body>
    <div class="bg-pattern"></div>
    <div class="grid-overlay"></div>
    
    <div class="container">
        <header>
            <div class="logo-icon">üåç</div>
            <h1>EcoSpin</h1>
            <p class="subtitle">Climate & Health Trivia Challenge</p>
        </header>

        <div class="main-content">
            <div class="panel">
                <h2 class="panel-title">‚ö° DIFFICULTY</h2>
                <div class="difficulty-options">
                    <button class="difficulty-btn easy active" data-difficulty="easy">
                        <div class="difficulty-icon">üå±</div>
                        <div class="difficulty-info"><h3>Easy</h3><p>Starter questions</p></div>
                        <div class="difficulty-check"></div>
                    </button>
                    <button class="difficulty-btn medium" data-difficulty="medium">
                        <div class="difficulty-icon">üåø</div>
                        <div class="difficulty-info"><h3>Medium</h3><p>Test your knowledge</p></div>
                        <div class="difficulty-check"></div>
                    </button>
                    <button class="difficulty-btn hard" data-difficulty="hard">
                        <div class="difficulty-icon">üå≥</div>
                        <div class="difficulty-info"><h3>Hard</h3><p>Expert challenge</p></div>
                        <div class="difficulty-check"></div>
                    </button>
                </div>
            </div>

            <div class="wheel-section">
                <div class="wheel-container">
                    <div class="wheel-glow"></div>
                    <div class="wheel-outer">
                        <div class="wheel" id="wheel"></div>
                        <div class="wheel-center">
                            <span class="center-text">SPIN<br>TO WIN</span>
                        </div>
                    </div>
                    <div class="wheel-pointer">
                        <div class="pointer-shape"></div>
                        <div class="pointer-circle"></div>
                    </div>
                </div>
                <button class="spin-btn" id="spinBtn">üéØ SPIN THE WHEEL</button>
            </div>

            <div class="panel">
                <h2 class="panel-title">üìö TOPICS</h2>
                <div class="topics-grid">
                    <div class="topic-item topic-heat"><div class="topic-icon">üå°Ô∏è</div><span>Heat</span></div>
                    <div class="topic-item topic-wildfires"><div class="topic-icon">üî•</div><span>Wildfires</span></div>
                    <div class="topic-item topic-climate"><div class="topic-icon">üåé</div><span>Climate Facts</span></div>
                    <div class="topic-item topic-air"><div class="topic-icon">üí®</div><span>Air Quality</span></div>
                    <div class="topic-item topic-water"><div class="topic-icon">üåßÔ∏è</div><span>Water/Monsoon</span></div>
                    <div class="topic-item topic-health"><div class="topic-icon">‚ù§Ô∏è</div><span>Health</span></div>
                    <div class="topic-item topic-vector"><div class="topic-icon">ü¶ü</div><span>Vector Control</span></div>
                    <div class="topic-item topic-food"><div class="topic-icon">üçé</div><span>Food</span></div>
                    <div class="topic-item topic-environment"><div class="topic-icon">üå≤</div><span>Environment</span></div>
                    <div class="topic-item topic-microbes"><div class="topic-icon">ü¶†</div><span>Microbes</span></div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="modal">
        <div class="modal">
            <div class="modal-header">
                <div class="result-icon" id="resultIcon"></div>
                <div>
                    <h2 class="result-category" id="resultCategory"></h2>
                    <span class="result-difficulty" id="resultDifficulty"></span>
                </div>
            </div>
            <div class="question-box">
                <div class="question-label">‚ùì Question</div>
                <div class="question-text" id="questionText"></div>
            </div>
            <div class="answer-options" id="answerOptions"></div>
            <div class="explanation-box" id="explanationBox">
                <div class="explanation-title">üí° Did you know?</div>
                <div class="explanation-text" id="explanationText"></div>
            </div>
            <div class="modal-buttons">
                <button class="modal-btn btn-submit" id="submitBtn" disabled>Check Answer</button>
                <button class="modal-btn btn-secondary" id="closeModalBtn">Close</button>
            </div>
        </div>
    </div>

    <script>
        const questions = {
            heat: {
                easy: [{ question: "What is the healthiest drink option to stay cool and hydrated on a hot day?", options: ["Water", "Soda", "All of them"], correct: 0, explanation: "Water is the best choice! Drink plenty of water on hot days to stay hydrated. Arizona's dry heat makes hydration essential." }],
                medium: [{ question: "What was the highest temperature on record in Tucson?", options: ["240¬∞F", "117¬∞F", "114¬∞F"], correct: 1, explanation: "117¬∞F! The highest temperature ever recorded was on June 26th, 1990." }],
                hard: [{ question: "Can you name at least two symptoms of heat stroke?", options: ["High body temperature & confusion", "Cold skin & low temperature", "Hunger & thirst only"], correct: 0, explanation: "Heat stroke symptoms include: high body temperature (103¬∞F or higher), hot/red/dry skin, headache, dizziness, nausea, confusion, and losing consciousness." }]
            },
            wildfires: {
                easy: [{ question: "True or False: Fire season is getting longer around the globe.", options: ["True", "False"], correct: 0, explanation: "True! According to NASA, fire seasons are now more than a month longer than 35 years ago." }],
                medium: [{ question: "Why is Arizona a wildfire-prone zone?", options: ["Too many trees", "Semi-arid climate and drought", "Too much rainfall"], correct: 1, explanation: "Arizona has a semi-arid climate with drought conditions that make it susceptible to wildfires." }],
                hard: [{ question: "What is the difference between wildfires and prescribed fires?", options: ["No difference", "Wildfires are unplanned; prescribed fires are planned", "Prescribed fires are larger"], correct: 1, explanation: "Wildfires are unplanned while prescribed fires are planned for forest health." }]
            },
            climate: {
                easy: [{ question: "Name one activity that can make a positive impact on the environment:", options: ["Leaving lights on", "Recycling and turning off lights", "Driving everywhere"], correct: 1, explanation: "Small changes like recycling and turning off lights can make a difference!" }],
                medium: [{ question: "What is a fossil fuel that occurs in nature?", options: ["Solar", "Wind energy", "Coal"], correct: 2, explanation: "Coal is created when dead plants get packed in the ground for thousands of years." }],
                hard: [{ question: "How many sunny days does Arizona have per year?", options: ["300 days", "280 days", "360 days"], correct: 0, explanation: "Arizona has about 300 days of sunny skies!" }]
            },
            air: {
                easy: [{ question: "True or False: Air pollution affects everyone.", options: ["True", "False"], correct: 0, explanation: "True! Air pollution affects everyone, especially children and older adults." }],
                medium: [{ question: "How far can air pollution travel?", options: ["1 block", "1 mile", "Around the world"], correct: 2, explanation: "Around the world! NASA has observed pollution moving between continents." }],
                hard: [{ question: "What lawn mower produces MORE air pollution?", options: ["Gas powered", "Manual mower", "Electric mower"], correct: 0, explanation: "Gas-powered equipment produces the most pollution!" }]
            },
            water: {
                easy: [{ question: "How much water does a person use daily?", options: ["20 gallons", "82 gallons", "150 gallons"], correct: 1, explanation: "82 gallons for all uses including showering, cooking, and more!" }],
                medium: [{ question: "When does monsoon season start in Arizona?", options: ["June 15", "July 1", "August 1"], correct: 0, explanation: "June 15 through September 30 is monsoon season in Arizona." }],
                hard: [{ question: "Why do Tucson roads flood during monsoons?", options: ["Water parks", "Hard soil doesn't absorb water", "Slip 'n Slide experiment"], correct: 1, explanation: "Hard, dry soil and asphalt don't soak up water!" }]
            },
            health: {
                easy: [{ question: "Will climate change increase or decrease asthma attacks?", options: ["Increase", "Decrease"], correct: 0, explanation: "Increase! Climate changes can trigger more asthma attacks." }],
                medium: [{ question: "How many cooling centers in Pima County?", options: ["100", "39", "440"], correct: 1, explanation: "39 cooling centers provide relief during hot summers." }],
                hard: [{ question: "How do green spaces help health?", options: ["They don't help", "Encourage activity and reduce heat", "Only look nice"], correct: 1, explanation: "Green spaces encourage physical activity and reduce heat!" }]
            },
            vector: {
                easy: [{ question: "True or False: Mosquitoes thrive in standing water.", options: ["True", "False"], correct: 0, explanation: "True! Standing water is a breeding ground for mosquitoes." }],
                medium: [{ question: "Can Aedes aegypti spread Zika and Dengue?", options: ["True", "False"], correct: 0, explanation: "True! These mosquitoes can spread multiple diseases." }],
                hard: [{ question: "Where do Aedes mosquitoes live around homes?", options: ["Large ponds only", "Buckets, flower pots, old tires", "Only indoors"], correct: 1, explanation: "They love artificial containers that collect water!" }]
            },
            food: {
                easy: [{ question: "Can droughts and fires impact food supply?", options: ["True", "False"], correct: 0, explanation: "TRUE! Climate events affect food security." }],
                medium: [{ question: "Which food has high greenhouse gas emissions?", options: ["Vegetables", "Red meat and dairy", "Grains"], correct: 1, explanation: "Animal-based foods have the highest emissions." }],
                hard: [{ question: "What percent of US produce comes from Arizona?", options: ["12%", "40%", "65%"], correct: 0, explanation: "Arizona produces 12% of US fruits and vegetables!" }]
            },
            environment: {
                easy: [{ question: "What benefit do urban trees provide?", options: ["Use too much water", "Shade and cooling", "No benefits"], correct: 1, explanation: "Trees provide shade, cooling, and capture stormwater!" }],
                medium: [{ question: "What is Tucson Million Trees program?", options: ["Cut down trees", "Plant 1 million trees by 2030", "Tree museum"], correct: 1, explanation: "Mayor Romero's goal to plant 1 million trees by 2030!" }],
                hard: [{ question: "What is a carbon sink?", options: ["Kitchen sink", "Natural system that stores CO2", "Car filter"], correct: 1, explanation: "Carbon sinks absorb CO2 - oceans and forests are the largest!" }]
            },
            microbes: {
                easy: [{ question: "How many germs fit on a pin head?", options: ["100", "1,000", "Over 10 million!"], correct: 2, explanation: "Over 10 million! That's why hand washing is important." }],
                medium: [{ question: "How fast do germs spread in a building?", options: ["2 hours", "12 hours", "24 hours"], correct: 0, explanation: "Just 2 hours! Germs spread incredibly fast." }],
                hard: [{ question: "Does the body have more bacteria or human cells?", options: ["Human cells", "Bacteria by 100x!", "Equal"], correct: 1, explanation: "Bacteria outnumber human cells by about 100 times!" }]
            }
        };

        const topics = [
            { id: 'heat', name: 'Heat', icon: 'üå°Ô∏è' },
            { id: 'wildfires', name: 'Wildfires', icon: 'üî•' },
            { id: 'climate', name: 'Climate', icon: 'üåé' },
            { id: 'air', name: 'Air', icon: 'üí®' },
            { id: 'water', name: 'Water', icon: 'üåßÔ∏è' },
            { id: 'health', name: 'Health', icon: '‚ù§Ô∏è' },
            { id: 'vector', name: 'Vector', icon: 'ü¶ü' },
            { id: 'food', name: 'Food', icon: 'üçé' },
            { id: 'environment', name: 'Environ', icon: 'üå≤' },
            { id: 'microbes', name: 'Microbes', icon: 'ü¶†' }
        ];

        const colorMap = { heat: '#c44536', wildfires: '#d97706', climate: '#059669', air: '#0891b2', water: '#2563eb', health: '#db2777', vector: '#7c3aed', food: '#ea580c', environment: '#16a34a', microbes: '#0d9488' };

        // Create wheel labels
        const wheel = document.getElementById('wheel');
        const segmentAngle = 360 / topics.length;
        
        topics.forEach((topic, index) => {
            const label = document.createElement('div');
            label.className = 'wheel-label';
            const angle = index * segmentAngle + segmentAngle / 2 - 90;
            label.style.transform = `rotate(${angle}deg)`;
            label.innerHTML = `
                <span class="wheel-label-icon">${topic.icon}</span>
                <span class="wheel-label-text">${topic.name}</span>
            `;
            wheel.appendChild(label);
        });

        let selectedDifficulty = 'easy';
        document.querySelectorAll('.difficulty-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.difficulty-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                selectedDifficulty = btn.dataset.difficulty;
            });
        });

        const spinBtn = document.getElementById('spinBtn');
        let isSpinning = false, currentRotation = 0;
        
        spinBtn.addEventListener('click', () => {
            if (isSpinning) return;
            isSpinning = true;
            spinBtn.disabled = true;
            
            const spins = 5 + Math.random() * 5;
            const extraDegrees = Math.random() * 360;
            currentRotation += spins * 360 + extraDegrees;
            wheel.style.transform = `rotate(${currentRotation}deg)`;
            
            setTimeout(() => {
                const normalizedRotation = currentRotation % 360;
                const segmentIndex = Math.floor(((360 - normalizedRotation + 18) % 360) / segmentAngle) % topics.length;
                showQuestion(topics[segmentIndex]);
                isSpinning = false;
                spinBtn.disabled = false;
            }, 4000);
        });

        const modal = document.getElementById('modal');
        let currentQuestion = null, selectedAnswer = null, answered = false;

        function showQuestion(topic) {
            const qs = questions[topic.id][selectedDifficulty];
            if (!qs?.length) { alert(`No ${selectedDifficulty} questions for ${topic.name}`); return; }
            currentQuestion = qs[Math.floor(Math.random() * qs.length)];
            selectedAnswer = null; answered = false;
            
            document.getElementById('resultIcon').style.background = `linear-gradient(135deg, ${colorMap[topic.id]}, ${colorMap[topic.id]}cc)`;
            document.getElementById('resultIcon').textContent = topic.icon;
            document.getElementById('resultCategory').textContent = topic.name;
            document.getElementById('resultDifficulty').textContent = selectedDifficulty;
            document.getElementById('resultDifficulty').className = `result-difficulty ${selectedDifficulty}`;
            document.getElementById('questionText').textContent = currentQuestion.question;
            
            const opts = document.getElementById('answerOptions');
            opts.innerHTML = '';
            ['A','B','C'].forEach((l,i) => {
                if (!currentQuestion.options[i]) return;
                const btn = document.createElement('button');
                btn.className = 'answer-btn';
                btn.innerHTML = `<span class="answer-letter">${l}</span><span>${currentQuestion.options[i]}</span>`;
                btn.onclick = () => { 
                    if (answered) return; 
                    selectedAnswer = i; 
                    opts.querySelectorAll('.answer-btn').forEach(b => b.classList.remove('selected')); 
                    btn.classList.add('selected'); 
                    document.getElementById('submitBtn').disabled = false; 
                };
                opts.appendChild(btn);
            });
            
            document.getElementById('explanationBox').classList.remove('show');
            const sub = document.getElementById('submitBtn');
            sub.disabled = true; 
            sub.textContent = 'Check Answer'; 
            sub.className = 'modal-btn btn-submit'; 
            sub.onclick = checkAnswer;
            modal.classList.add('active');
        }

        function checkAnswer() {
            if (selectedAnswer === null || answered) return;
            answered = true;
            
            document.querySelectorAll('.answer-btn').forEach((btn, i) => { 
                btn.disabled = true; 
                if (i === currentQuestion.correct) btn.classList.add('correct'); 
                else if (i === selectedAnswer) btn.classList.add('incorrect'); 
            });
            
            if (selectedAnswer === currentQuestion.correct) createConfetti();
            
            document.getElementById('explanationText').textContent = currentQuestion.explanation;
            document.getElementById('explanationBox').classList.add('show');
            
            const sub = document.getElementById('submitBtn');
            sub.textContent = 'üéØ Spin Again'; 
            sub.className = 'modal-btn btn-primary'; 
            sub.disabled = false;
            sub.onclick = () => { modal.classList.remove('active'); setTimeout(() => spinBtn.click(), 300); };
        }

        function createConfetti() {
            const colors = ['#AB0520', '#0C234B', '#c44536', '#d97706', '#059669', '#2563eb'];
            for (let i = 0; i < 50; i++) {
                const c = document.createElement('div');
                c.className = 'confetti';
                c.style.left = `${Math.random() * 100}%`;
                c.style.background = colors[Math.floor(Math.random() * colors.length)];
                c.style.animationDelay = `${Math.random() * 0.5}s`;
                document.body.appendChild(c);
                setTimeout(() => c.remove(), 3500);
            }
        }

        document.getElementById('closeModalBtn').onclick = () => modal.classList.remove('active');
        modal.onclick = (e) => { if (e.target === modal) modal.classList.remove('active'); };
    </script>
</body>
</html>
